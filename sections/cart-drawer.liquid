<!-- Payment Method Selector - Premium Animated Design for JazzCash/EasyPaisa -->
<style>
  .payment-method-box {
    margin-top: 20px;
    padding: 18px;
    border-top: 1px solid #e5e5e5;
    background: #f9fafb;
    border-radius: 16px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    text-align: center;
  }

  .payment-method-box h3 {
    font-weight: 700;
    color: #111;
    margin-bottom: 14px;
    font-size: 17px;
  }

  .payment-buttons {
    display: flex;
    justify-content: center;
    gap: 10px;
    flex-wrap: wrap;
  }

  .payment-btn {
    flex: 1;
    padding: 12px;
    border-radius: 10px;
    border: 2px solid #ddd;
    background: #fff;
    font-weight: 600;
    cursor: pointer;
    font-size: 15px;
    transition: all 0.25s ease;
    min-width: 140px;
    max-width: 200px;
    position: relative;
  }

  .payment-btn:hover {
    border-color: #000;
    transform: translateY(-2px);
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
  }

  .payment-btn.active {
    border-color: #000;
    background: #000;
    color: #fff;
    transform: scale(1.04);
    box-shadow: 0 4px 14px rgba(0,0,0,0.2);
  }

  .discount-tag {
    display: inline-block;
    margin-left: 6px;
    background: #16a34a;
    color: white;
    font-size: 12px;
    padding: 2px 6px;
    border-radius: 6px;
    font-weight: 700;
  }

  .success-message {
    display: none;
    margin-top: 10px;
    color: #16a34a;
    font-weight: 600;
    font-size: 14px;
    animation: fadeIn 0.4s ease forwards;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(4px); }
    to { opacity: 1; transform: translateY(0); }
  }
</style>

<div class="payment-method-box">
  <h3>Choose Your Payment Method</h3>
  <div class="payment-buttons">
    <button class="payment-btn" data-method="cod">ðŸ’µ Cash on Delivery</button>
    <button class="payment-btn" data-method="jazzcash">ðŸ“± JazzCash <span class="discount-tag">5% OFF</span></button>
    <button class="payment-btn" data-method="easypaisa">ðŸ’³ EasyPaisa <span class="discount-tag">5% OFF</span></button>
  </div>
  <p class="success-message" id="discountMsg">âœ… 5% discount applied successfully!</p>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const buttons = document.querySelectorAll('.payment-btn');
  const message = document.getElementById('discountMsg');

  buttons.forEach(button => {
    button.addEventListener('click', () => {
      buttons.forEach(btn => btn.classList.remove('active'));
      button.classList.add('active');

      const method = button.getAttribute('data-method');
      message.style.display = 'none';

      if (method === 'jazzcash') {
        window.location.href = '/discount/JAZZ20?redirect=/cart';
        setTimeout(() => { message.style.display = 'block'; }, 1200);
      } else if (method === 'easypaisa') {
        window.location.href = '/discount/EASYP20?redirect=/cart';
        setTimeout(() => { message.style.display = 'block'; }, 1200);
      } else {
        window.location.href = '/cart';
      }
    });
  });
});
</script>
